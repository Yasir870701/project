import{p as g,b as f,m as y,an as k,d as V,ao as b,ap as C,e as S,a as P,f as x,g as w,l as B,h as q,t as R,i as T,aq as E,j as F,ar as j,as as D,k as L,u as N,c as s,at as $,L as z,M as A,a3 as I,x as K,a8 as M,Q as O,R as Q,T as o,au as U,W,V as G,a2 as n,av as v,K as H,_ as J}from"./index-feb6dd67.js";import{c as X,e as Y,u as Z,d as ee}from"./index.esm-659f4f54.js";import{V as ae}from"./VContainer-902bc6b8.js";import{V as te,a as m}from"./VRow-f98b4ba2.js";import"./_commonjsHelpers-39b5b250.js";/* empty css              */const se=g({color:String,...f(),...y(),...k(),...V(),...b(),...C(),...S(),...P(),...x()},"VSheet"),oe=w()({name:"VSheet",props:se(),setup(t,c){let{slots:l}=c;const{themeClasses:u}=B(t),{backgroundColorClasses:i,backgroundColorStyles:p}=q(R(t,"color")),{borderClasses:d}=T(t),{dimensionStyles:e}=E(t),{elevationClasses:a}=F(t),{locationStyles:r}=j(t),{positionClasses:h}=D(t),{roundedClasses:_}=L(t);return N(()=>s(t.tag,{class:["v-sheet",u.value,i.value,d.value,a.value,h.value,_.value,t.class],style:[p.value,e.value,r.value,t.style]},l)),{}}}),re={class:"text-h3 font-weight-black mb-8"},le={class:"mb-8 font-weight-bold text-capitalize"},ne={style:{"white-space":"pre-wrap"}},ce=n("h1",{class:"text-red"},"已下架",-1),he={__name:"ProductView",setup(t){const c=$(),l=z(),u=A(),i=X({quantity:Y().typeError("缺少數量").required("缺少數量").min(1,"最少為 1")}),{isSubmitting:p,handleSubmit:d}=Z({validationSchema:i,initialValues:{quantity:0}});ee("quantity"),d(async a=>{try{const{data:r}=await I.post("/users/cart",{product:e.value._id,quantity:a.quantity});u.cart=r.result}catch(r){l({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}});const e=K({_id:"",name:"",description:"",image:"",sell:!0,category:""});return(async()=>{try{const{data:a}=await M.get("/products/"+c.params.id);e.value._id=a.result._id,e.value.name=a.result.name,e.value.description=a.result.description,e.value.image=a.result.image,e.value.sell=a.result.sell,e.value.category=a.result.category,document.title="Transform! | "+e.value.name}catch(a){l({text:a.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(a,r)=>(O(),Q(W,null,[s(ae,null,{default:o(()=>[s(te,null,{default:o(()=>[s(m,{cols:"12"}),s(m,{cols:"12",md:"2",class:"text-center d-flex justify-center align-center"},{default:o(()=>[s(G,{src:e.value.image},null,8,["src"])]),_:1}),s(m,{cols:"auto"},{default:o(()=>[s(oe,{rounded:"",elevation:8,class:"pa-8 overflow-auto","max-width":"1800"},{default:o(()=>[n("h4",re,v(e.value.name),1),n("div",le,[n("pre",ne,v(e.value.description),1)])]),_:1})]),_:1})]),_:1})]),_:1}),s(U,{"model-value":!e.value.sell,persistent:"",class:"align-center text-center justify-center"},{default:o(()=>[ce,s(H,{to:"/"},{default:o(()=>[J("回上頁")]),_:1})]),_:1},8,["model-value"])],64))}};export{he as default};
