import{p as g,d as y,m as f,ap as k,e as V,aq as S,ar as b,f as C,a as w,h as P,b as x,n as B,i as q,t as R,j as T,as as E,k as F,at as N,au as $,l as D,u as L,c as t,av as j,M as U,N as z,a4 as A,y as I,a9 as M,R as O,S as X,U as o,aw as G,X as H,a3 as l,V as J,ax as v,L as K,$ as Q}from"./index-b9b068b1.js";import{c as W,e as Y,u as Z,d as ee}from"./index.esm-55e48396.js";import{V as ae}from"./VContainer-40f465e3.js";import{V as se,a as m}from"./VRow-228d7f05.js";/* empty css              */const te=g({color:String,...y(),...f(),...k(),...V(),...S(),...b(),...C(),...w(),...P()},"VSheet"),oe=x()({name:"VSheet",props:te(),setup(s,c){let{slots:n}=c;const{themeClasses:u}=B(s),{backgroundColorClasses:i,backgroundColorStyles:p}=q(R(s,"color")),{borderClasses:d}=T(s),{dimensionStyles:e}=E(s),{elevationClasses:a}=F(s),{locationStyles:r}=N(s),{positionClasses:h}=$(s),{roundedClasses:_}=D(s);return L(()=>t(s.tag,{class:["v-sheet",u.value,i.value,d.value,a.value,h.value,_.value,s.class],style:[p.value,e.value,r.value,s.style]},n)),{}}}),re={style:{width:"15%"}},le={class:"text-h3 font-weight-black mb-8"},ne={class:"mb-8 font-weight-bold text-capitalize"},ce={style:{"white-space":"pre-wrap"}},ue=l("h1",{class:"text-red"},"已下架",-1),he={__name:"ProductView",setup(s){const c=j(),n=U(),u=z(),i=W({quantity:Y().typeError("缺少數量").required("缺少數量").min(1,"最少為 1")}),{isSubmitting:p,handleSubmit:d}=Z({validationSchema:i,initialValues:{quantity:0}});ee("quantity"),d(async a=>{try{const{data:r}=await A.post("/users/cart",{product:e.value._id,quantity:a.quantity});u.cart=r.result}catch(r){n({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}});const e=I({_id:"",name:"",description:"",image:"",sell:!0,category:""});return(async()=>{try{const{data:a}=await M.get("/products/"+c.params.id);e.value._id=a.result._id,e.value.name=a.result.name,e.value.description=a.result.description,e.value.image=a.result.image,e.value.sell=a.result.sell,e.value.category=a.result.category,document.title="Transform! | "+e.value.name}catch(a){n({text:a.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(a,r)=>(O(),X(H,null,[t(ae,null,{default:o(()=>[t(se,null,{default:o(()=>[t(m,{cols:"12"}),t(m,{cols:"12",class:"text-center d-flex align-center"},{default:o(()=>[l("div",re,[t(J,{src:e.value.image},null,8,["src"])])]),_:1}),t(m,{cols:"12"},{default:o(()=>[t(oe,{rounded:"",elevation:8,class:"pa-8 overflow-auto","max-width":"1400"},{default:o(()=>[l("h4",le,v(e.value.name),1),l("div",ne,[l("pre",ce,v(e.value.description),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(G,{"model-value":!e.value.sell,persistent:"",class:"align-center text-center justify-center"},{default:o(()=>[ue,t(K,{to:"/"},{default:o(()=>[Q("回上頁")]),_:1})]),_:1},8,["model-value"])],64))}};export{he as default};
